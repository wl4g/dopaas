# Copyright (c) 2017 ~ 2025, the original author wangl.sir individual Inc,
# All rights reserved. Contact us <Wanglsir@gmail.com, 983708408@qq.com>
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# #### Environment base configuration. ####
#
# Spring boot configuration.
spring:
  application.name: umc-example
  resources.static-locations: classpath:/static/
  profiles:
    include: common,util,admin
    active: dev
  xcloud:
    devops:
      umc:
        metrics: # Metrics configuration.
          counter:
            enable: true
            expression: execution(* com.wl4g.devops.umc.example.web.ExampleController.*(..))
          timeouts:
            enable: true
            expression: execution(* com.wl4g.devops.umc.example.web.ExampleController.*(..))
            timeoutsThreshold: 15000
          cpu:
            enable: true
            partitions:
              defaultCorePart:
                retainTime: 300000
          memory:
            enable: true
            partitions:
              defaultMemoryPart:
                retainTime: 300000
          disk:
            enable: true
            partitions:
              /:
                retainTime: 300000

# Logging configuration.
logging:
  file.name: ${server.tomcat.basedir}/../log/${spring.application.name}/${spring.application.name}.log
  root: INFO
  # Custom configuration(Non spring-boot standard).
  policy:
    maxFileSize: 1GB
    minIndex: 1
    maxIndex: 10
  level:
    de.codecentric.boot.admin: INFO
    org:
      springframework: INFO
      apache: INFO

# #### Server configuration. ####
server:
  port: 14045
  contextPath: /${spring.application.name}
  tomcat:
    uri-encoding: UTF-8
    basedir: /tmp/${spring.application.name}
    access-log-enabled: false
    accesslog.directory: logs/
    backgroundProcessorDelay: 30 #seconds
    max-thread: 50 # Max worker threads(default:200).
