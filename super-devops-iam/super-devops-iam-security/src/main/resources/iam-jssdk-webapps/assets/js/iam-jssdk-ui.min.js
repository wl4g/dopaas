(function(e,c){e.IAMUi=function(){};var d={iamCore:null,renderObj:null};IAMUi.prototype.initUI=function(b,c){if(!b||void 0==b)throw Error("IAMUi (renderObj) is required!");console.debug("IAMUi JSSDK initializing ...");d.renderObj=b;var a=$('\n\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-header"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"iamjssdk-login-link active" id\x3d"iamjssdk_login_link_account" data-panel\x3d"iamjssdk_login_account_panel"\x3e\n\t\t\t\t\t\t\t账号登录\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3c!--\x3cspan class\x3d"iamjssdk-login-line"\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"iamjssdk-login-link" id\x3d"iamjssdk_login_link_phone" data-panel\x3d"iamjssdk_login_phone_panel"\x3e\n\t\t\t\t\t\t\t手机登录\n\t\t\t\t\t\t\x3c/span\x3e--\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"iamjssdk-login-line"\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"iamjssdk-login-link" id\x3d"iamjssdk_login_link_scan" data-panel\x3d"iamjssdk_login_scan_panel"\x3e\n\t\t\t\t\t\t\t扫码登录\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-tip" id\x3d"err_tip"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-body"\x3e\n\t\t\t\t\t\t\x3c!-- Account login--\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-panel active" id\x3d"iamjssdk_login_account_panel"\x3e\n\t\t\t\t\t\t\t\x3cform\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-item"\x3e\n\t\t\t\t\t\t\t\t\t\x3ci class\x3d"icon-user"\x3e\x3c/i\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput class\x3d"inp" id\x3d"iamjssdk_account_username" name\x3d"username" placeholder\x3d"请输入账号"\n\t\t\t\t\t\t\t\t\tmaxlength\x3d"20"\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-item"\x3e\n\t\t\t\t\t\t\t\t\t\x3ci class\x3d"icon-pass"\x3e\x3c/i\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput class\x3d"inp" id\x3d"iamjssdk_account_password" name\x3d"iamjssdk_account_password" type\x3d"password" placeholder\x3d"请输入密码"\n\t\t\t\t\t\t\t\t\tmaxlength\x3d"35" autocapitalize\x3d"off" autocomplete\x3d"off"\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-item" id\x3d"iamjssdk_captcha_panel"\x3e\n\t\t\t\t\t\t\t\t\t\x3c!-- Behavior verification operation area--\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3cinput class\x3d"iamjssdk-btn" id\x3d"iamjssdk_account_submit_btn" type\x3d"button" value\x3d"登录"\x3e\n\t\t\t\t\t\t\t\x3c/form\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c!-- Mobile login--\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-panel" id\x3d"iamjssdk_login_phone_panel"\x3e\n\t\t\t\t\t\t\t\x3cselect class\x3d"select-area"\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+086"\x3e\n\t\t\t\t\t\t\t\t\t中国大陆+086\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+852"\x3e\n\t\t\t\t\t\t\t\t\t中国香港+852\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+853"\x3e\n\t\t\t\t\t\t\t\t\t中国澳门+853\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+084"\x3e\n\t\t\t\t\t\t\t\t\t越南+084\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+092"\x3e\n\t\t\t\t\t\t\t\t\t巴基斯坦+092\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+065"\x3e\n\t\t\t\t\t\t\t\t\t新加坡+065\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+358"\x3e\n\t\t\t\t\t\t\t\t\t法国+358\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\t\x3coption value\x3d"+066"\x3e\n\t\t\t\t\t\t\t\t\t泰国+066\n\t\t\t\t\t\t\t\t\x3c/option\x3e\n\t\t\t\t\t\t\t\x3c/select\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-item"\x3e\n\t\t\t\t\t\t\t\t\x3ci class\x3d"icon-phone"\x3e\n\t\t\t\t\t\t\t\t\x3c/i\x3e\n\t\t\t\t\t\t\t\t\x3cinput id\x3d"iamjssdk_sms_user_phone" class\x3d"inp" name\x3d"phone" placeholder\x3d"请输入手机号" maxlength\x3d"11"\x3e\n\t\t\t\t\t\t\t\t\x3cp class\x3d"err-info phone-err"\x3e\n\t\t\t\t\t\t\t\t\t请输入正确的手机号\n\t\t\t\t\t\t\t\t\x3c/p\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-item iamjssdk-login-form-item-number"\x3e\n\t\t\t\t\t\t\t\t\x3ci class\x3d"icon-codeNumber"\x3e\n\t\t\t\t\t\t\t\t\x3c/i\x3e\n\t\t\t\t\t\t\t\t\x3cinput id\x3d"iamjssdk_sms_code" class\x3d"inp" type\x3d"text" placeholder\x3d"请输入短信动态码" maxlength\x3d6\x3e\n\t\t\t\t\t\t\t\t\x3cbutton class\x3d"iamjssdk-btn-code" type\x3d"button" id\x3d"iamjssdk_sms_getcode_btn"\x3e\n\t\t\t\t\t\t\t\t\t获取\n\t\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\t\t\x3cp class\x3d"err-info pass-err"\x3e\n\t\t\t\t\t\t\t\t\t请输入短信验证码\n\t\t\t\t\t\t\t\t\x3c/p\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cinput class\x3d"iamjssdk-btn" id\x3d"iamjssdk_sms_submit_btn" type\x3d"button" value\x3d"登录"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c!-- WeChat login--\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-login-form-panel" id\x3d"iamjssdk_login_scan_panel"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"iamjssdk-box-qrcode"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv id\x3d"iamjssdk_sns_qrcodePanel" style\x3d"height:255px;"\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"qrcode-text"\x3e\n\t\t\t\t\t\t\t\t打开\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"bold"\x3e\n\t\t\t\t\t\t\t\t\t微信"扫一扫"\n\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\t扫描二维码\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e');
d.iamCore?$(b).empty():Common.Util.printSafeWarn("This browser function is for developers only. Please do not paste and execute any content here, which may cause your account to be attacked and bring you loss!");a.appendTo($(b));h();k(c)};IAMUi.prototype.getIAMCore=function(){return d.iamCore};IAMUi.prototype.destroy=function(){$(d.renderObj).empty();d=null;IAMCore.Console.info("Destroyed IAMUi instance.");d.iamCore&&d.iamCore.destroy()};var h=function(){$(".iamjssdk-login-link").click(function(){var b=
this;$(".iamjssdk-login-link").each(function(c,a){c=$(b).attr("data-panel");var f=$(a).attr("data-panel");c!=f?($("#"+f).hide(),$(a).removeClass("active")):($("#"+f).show(),$(a).addClass("active"))})});$(".code-close").click(function(){$(".code-write").hide()});$(".select-area").change(function(){"+086"!=$(this).children("option:selected").val()&&(alert("目前此功能仅对中国大陆用户开放！敬请谅解"),$(this).children("option")[0].selected=!0)})},k=function(b){var e={deploy:{defaultTwoDomain:"iam",defaultServerPort:14040,
defaultContextPath:"/iam-server"},init:{onPostCheck:function(a){a=IAMCore.getIamBaseUri()+"/login/errread";$.ajax({url:a,xhrFields:{withCredentials:!0},success:function(a){a=a.data.errorTipsInfo;null!=a&&0<a.length&&$("#err_tip").text(a).show().delay(8E3).hide(100)}})},onError:function(a){console.error("初始化失败... "+a)}},captcha:{enable:!0,use:"VerifyWithJigsawGraph",panel:c.getElementById("iamjssdk_captcha_panel"),img:c.getElementById("iamjssdk_captcha_img"),input:c.getElementById("iamjssdk_captcha_input"),
onSuccess:function(a){console.debug("Captcha verify successful. verifiedToken is "+a)},onError:function(a){console.warn(a)}},account:{enable:!0,submitBtn:c.getElementById("iamjssdk_account_submit_btn"),principalInput:c.getElementById("iamjssdk_account_username"),credentialInput:c.getElementById("iamjssdk_account_password"),onBeforeSubmit:function(a,c,b){console.debug("Iam account login... principal: "+a+", plainPasswd: ******, captcha: "+b);return!0},onSuccess:function(a,b){console.debug("Iam account login successful !");
return!0},onError:function(a){console.error("Failed login. "+a);$("#err_tip").text(a).show().delay(5E3).hide(100)}},sms:{enable:!0,submitBtn:c.getElementById("iamjssdk_sms_submit_btn"),sendSmsBtn:c.getElementById("iamjssdk_sms_getcode_btn"),mobileArea:$(".select-area"),mobile:c.getElementById("iamjssdk_sms_user_phone"),smsCode:c.getElementById("iamjssdk_sms_code"),onBeforeSubmit:function(a,b){console.debug("Iam sms login ... mobileNum: "+a);return!0},onSuccess:function(a){$(".err-tip").text("");$(".code-write").hide()},
onError:function(a){console.error(a);$("#err_tip").text(a).show().delay(8E3).hide(100)}},sns:{enable:!0,required:{getWhich:function(){return"login"}},qrcodePanel:{src:c.getElementById("iamjssdk_sns_qrcodePanel"),width:"250",height:"260"},pagePanel:{width:"800px",height:"500px",left:"250px",top:"100px"},provider:{wechat:{panelType:"qrcodePanel",src:c.getElementById("iamjssdk_login_link_scan")}},onBefore:function(a,b){"wechat"==a&&($("#iamjssdk_login_scan_panel").show(),$("#iamjssdk_login_scan_panel_1").css({color:"#0b86f3",
"font-weight":"bold"}),$("#iamjssdk_login_scan_pass_1").css({color:"white","font-weight":"100"}),$("#iamjssdk_login_scan_pass").hide());return!0}}};b=$.extend(!0,e,b);IAMCore.Console.debug("IAMCore JSSDK intializing ... config properties: "+JSON.stringify(b));d.iamCore=new IAMCore(b);d.iamCore.anyAuthenticators().build()};$(function(){e.onmessage=function(b){if(b&&b.data&&!Common.Util.isEmpty(b.data))try{e.location.href=JSON.parse(b.data).refresh_url}catch(g){IAMCore.Console.error("Can't parse event message, e.data: ",
g.data)}}})})(window,document);