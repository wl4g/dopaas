var VAR_PLUGIN_MODULES="${{plugin_modules}}";
(function(n,k,u){var d=u;(function(){Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}})();var q=function(a){var b=
/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/.test(a);a=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
return b||a},r=function(a){a=Object.assign({host:location.hostname,checkDevEnvHostPatterns:"localhost 127.0.0.1 0:0:0:0:0:0:0:1 *.debug *.local *.dev".split(" "),devServerHost:null,serverPort:8080,serverHostForSubLevelDomain:"iam"},a);var b=a.host,c=a.serverPort?a.serverPort:location.port,e=location.protocol,f=a.checkDevEnvHostPatterns.find(function(a){return b==a||b.endsWith(a.substring(a.lastIndexOf("*")+1))});if(q(b)||f)return a.devServerHost?a.devServerHost:e+"//"+b+":"+c;c=b.split(".").slice(-2).join(".");
0<b.indexOf("com.cn")&&(c=b.split(".").slice(-3).join("."));return e+"//"+a.serverHostForSubLevelDomain+"."+c},v=function(a){for(m in d.modules){var b=d.modules[m];if(a==b.modName)return b}},t=function(a){for(var b=[],c=0;c<d.dependencies.length;c++){for(var e=!1,f=0;f<d.dependencies[c].features.length;f++)if(d.dependencies[c].features[f]==a){e=!0;break}if(e)for(e=0;e<d.dependencies[c].depends.length;e++)f=v(d.dependencies[c].depends[e]),b.push(f)}a=[];if(b&&0<b.length){a=[b[0]];for(c=1;c<b.length;c++){e=
!1;for(f=0;f<a.length;f++)if(b[c].stable==a[f].stable||b[c].grey==a[f].grey){e=!0;break}e||a.push(b[c])}a.sort(function(a,b){return a.ratio-b.ratio})}return 0==a.length?null:{modules:a}},w=function(a){var b=k.location.pathname;a||(a="./");if(0<=a.indexOf("././"))throw Error("Illegal path '"+a+"'");if(a.startsWith("./"))return b.substring(0,b.lastIndexOf("/"))+a.substring(a.indexOf("./")+2);if(a.startsWith("../")){var c=a.split("../");a="";var e=0,f;for(f in c)""==c[f]?e+=1:a+=c[f]+"/";b=b.split("/");
f="";for(c=0;c<b.length-e-1;c++)f+=b[c]+"/";return f+a}return a},h=function(){var a={path:"",cache:"false",mode:"stable",refreshLevel:"yyMMddhh"},b,c=k.getElementsByTagName("script"),c=c[c.length-1];if(c=k.currentScript||c){if(b=c.getAttribute("src")){var e=b.split("/");if(b.toLocaleUpperCase().startsWith("HTTP")){b="";for(var f=0;f<e.length;f++)f<e.length-2&&(b+=e[f]+"/");b.substring(0,b.length-1)}}b=c.getAttribute("fileUriPort");f=c.getAttribute("fileUriDomainSubLevel");e=c.getAttribute("path")||
a.path;e.toUpperCase().startsWith("HTTP://")||e.toUpperCase().startsWith("HTTPS://")?a.path=e:(b=r({serverPort:b,serverHostForSubLevelDomain:f}),a.path=b+w(e));a.cache=c.getAttribute("cache")||a.cache;a.mode=c.getAttribute("mode")||a.mode}else console.warn("Not currently running in a formal environment!");console.debug("Using IAM JSSDK settings: ",a);a.cache&&console.debug("IAM JSSDK cache is enabled!");"grey"==a.mode&&console.warn("Using IAM JSSDK [GREY] mode!");return a}();n.LoaderJS=function(a){if(a&&
(d||d==VAR_PLUGIN_MODULES)){var b=d;try{b=JSON.stringify(d)}catch(c){}console.debug("Overlay default modules: "+b);d=a}if(!d)throw Error("Must configure modules dependencies!");console.debug("Plugin modules : "+JSON.stringify(d))};LoaderJS.prototype.use=function(a,b,c){this.useCss(a,function(){},c);this.useJs(a,b,c)};LoaderJS.prototype.useJs=function(a,b,c){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useJs parameters (feature, callback) is required!");var e=
h.path+"/js/",f=h.cache,d=h.mode,p=(new Date).format(h.refreshLevel),l=t(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,f,e){c.forEach(function(d,x){if(n[d.modName])console.debug("Skip already load script module '"+d.modName+"'"),b();else if(d=(f||"")+d.url,e){var g=k.createElement("script");g.type="text/javascript";g.charset="UTF-8";g.src=d;g.async=!0;x==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded scripts feature: "+
a+", readyState: "+this.readyState),b())});k.head.appendChild(g)}else k.write('\x3cscript type\x3d"text/javascript" src\x3d"'+d+'"\x3e\x3c/script\x3e')});e||b()})(l.modules.map(function(a){"true"==f||(new Date).getTime();return{modName:a.modName,url:a[d]+"?t\x3d"+p}}),e,c||!0)};LoaderJS.prototype.useCss=function(a,b,c){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useCss parameters (feature, callback) is required!");var e=h.path+"/css/",f=h.cache,d=h.mode,
p=(new Date).format(h.refreshLevel),l=t(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,f,e){c.forEach(function(d,h){if(n[d.modName])console.debug("Skip already load css module '"+d.modName+"'"),b();else if(d=(f||"")+d.url,e){var g=k.createElement("link");g.rel="stylesheet";g.charset="UTF-8";g.href=d;g.async=!1;h==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded links feature: "+a+", readyState: "+
this.readyState),b())});k.head.appendChild(g)}else k.write('\x3clink rel\x3d"stylesheet" href\x3d"'+d+'" /\x3e')});e||b()})(l.modules.filter(function(a){return null!=a["css_"+d]&&""!=a["css_"+d]}).map(function(a){"true"==f||(new Date).getTime();return{modName:a.modName,url:a["css_"+d]+"?t\x3d"+p}}),e,c||!0)};LoaderJS.isIp=q;LoaderJS.getServerBaseURI=r})(window,document,VAR_PLUGIN_MODULES);
//# sourceMappingURL=sysloader-2.2.0.min.js.map