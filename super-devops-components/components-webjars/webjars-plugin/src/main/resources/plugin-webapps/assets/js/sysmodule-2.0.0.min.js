var VAR_PLUGIN_MODULES="${{plugin_modules}}";
(function(n,k,t){function u(a){for(m in f.modules){var b=f.modules[m];if(a==b.modName)return b}}function p(a){for(var b=[],c=0;c<f.dependencies.length;c++){for(var e=!1,d=0;d<f.dependencies[c].features.length;d++)if(f.dependencies[c].features[d]==a){e=!0;break}if(e)for(e=0;e<f.dependencies[c].depends.length;e++)d=u(f.dependencies[c].depends[e]),b.push(d)}a=[];if(b&&0<b.length){a=[b[0]];for(c=1;c<b.length;c++){e=!1;for(d=0;d<a.length;d++)if(b[c].stable==a[d].stable||b[c].grey==a[d].grey){e=!0;break}e||
a.push(b[c])}a.sort(function(a,b){return a.ratio-b.ratio})}return 0==a.length?null:{modules:a}}function v(a){var b=k.location.pathname;a||(a="./");if(0<=a.indexOf("././"))throw Error("Illegal path '"+a+"'");if(a.startsWith("./"))return b.substring(0,b.lastIndexOf("/"))+a.substring(a.indexOf("./")+2);if(a.startsWith("../")){var c=a.split("../");a="";var e=0,d;for(d in c)""==c[d]?e+=1:a+=c[d]+"/";b=b.split("/");d="";for(c=0;c<b.length-e-1;c++)d+=b[c]+"/";return d+a}return a}var f=t;(function(){Date.prototype.format=
function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}})();var q=function(a){var b=/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/.test(a);
a=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
return b||a},r=function(a){a=Object.assign({fileUriPort:8080,fileUriDomainSubLevel:"iam"},a);var b=location.hostname,c=a.fileUriPort?a.fileUriPort:location.port,e=location.protocol;if(q(b)||"localhost"==b||"127.0.0.1"==b||b.endsWith(".debug")||b.endsWith(".local")||b.endsWith(".dev"))return e+"//"+b+":"+c;c=b.split(".").slice(-2).join(".");0<b.indexOf("com.cn")&&(c=b.split(".").slice(-3).join("."));return e+"//"+a.fileUriDomainSubLevel+"."+c},h=function(){var a={path:"",cache:"false",mode:"stable",
refreshLevel:"yyMMddhh"},b,c=k.getElementsByTagName("script"),c=c[c.length-1];if(c=k.currentScript||c){if(b=c.getAttribute("src")){var e=b.split("/");if(b.toLocaleUpperCase().startsWith("HTTP")){b="";for(var d=0;d<e.length;d++)d<e.length-2&&(b+=e[d]+"/");b.substring(0,b.length-1)}}b=c.getAttribute("fileUriPort");d=c.getAttribute("fileUriDomainSubLevel");e=c.getAttribute("path")||a.path;e.toUpperCase().startsWith("HTTP://")||e.toUpperCase().startsWith("HTTPS://")?a.path=e:(b=r({fileUriPort:b,fileUriDomainSubLevel:d}),
a.path=b+v(e));a.cache=c.getAttribute("cache")||a.cache;a.mode=c.getAttribute("mode")||a.mode}else console.warn("Not currently running in a formal environment!");console.debug("Using IAM JSSDK settings: "+JSON.stringify(a));a.cache&&console.debug("IAM JSSDK cache is enabled!");"grey"==a.mode&&console.warn("Using IAM JSSDK [GREY] mode!");return a}();n.ModuleJS=function(a){if(a&&(f||f==VAR_PLUGIN_MODULES)){var b=f;try{b=JSON.stringify(f)}catch(c){}console.debug("Overlay default modules: "+b);f=a}if(!f)throw Error("Must configure modules dependencies!");
console.debug("Plugin modules : "+JSON.stringify(f))};ModuleJS.prototype.use=function(a,b){this.useCss(a,function(){});this.useJs(a,b)};ModuleJS.prototype.useJs=function(a,b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useJs parameters (feature, callback) is required!");var c=h.path+"/js/",e=h.cache,d=h.mode,f=(new Date).format(h.refreshLevel),l=p(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,d){c.forEach(function(e,f){if(n[e.modName])console.debug("Skip already load script module '"+
e.modName+"'"),b();else{var g=k.createElement("script");g.type="text/javascript";g.charset="UTF-8";g.src=(d||"")+e.url;g.async=!1;f==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded scripts feature: "+a+", readyState: "+this.readyState),b())});k.head.appendChild(g)}})})(l.modules.map(function(a){"true"==e||(new Date).getTime();return{modName:a.modName,url:a[d]+"?t\x3d"+f}}),c)};ModuleJS.prototype.useCss=function(a,
b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useCss parameters (feature, callback) is required!");var c=h.path+"/css/",e=h.cache,d=h.mode,f=(new Date).format(h.refreshLevel),l=p(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,e){c.forEach(function(d,f){if(n[d.modName])console.debug("Skip already load css module '"+d.modName+"'"),b();else{var g=k.createElement("link");g.rel="stylesheet";g.charset="UTF-8";g.href=(e||"")+d.url;g.async=
!1;f==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded links feature: "+a+", readyState: "+this.readyState),b())});k.head.appendChild(g)}})})(l.modules.filter(function(a){return null!=a["css_"+d]&&""!=a["css_"+d]}).map(function(a){"true"==e||(new Date).getTime();return{modName:a.modName,url:a["css_"+d]+"?t\x3d"+f}}),c)};ModuleJS.isIp=q;ModuleJS.getDefaultSiteBaseUri=r})(window,document,VAR_PLUGIN_MODULES);