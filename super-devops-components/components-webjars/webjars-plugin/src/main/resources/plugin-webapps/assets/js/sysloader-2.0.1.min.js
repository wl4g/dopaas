var VAR_PLUGIN_MODULES="${{plugin_modules}}";
(function(n,k,t){var f=t;(function(){Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}})();var p=function(a){var b=
/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/.test(a);a=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
return b||a},q=function(a){a=Object.assign({host:location.hostname,checkDevEnvHostPatterns:"localhost 127.0.0.1 0:0:0:0:0:0:0:1 *.debug *.local *.dev".split(" "),devServerHost:null,serverPort:8080,serverHostForSubLevelDomain:"iam"},a);var b=a.host,c=a.serverPort?a.serverPort:location.port,d=location.protocol,e=a.checkDevEnvHostPatterns.find(function(a){return b==a||b.endsWith(a.substring(a.lastIndexOf("*")+1))});if(p(b)||e)return a.devServerHost?a.devServerHost:d+"//"+b+":"+c;c=b.split(".").slice(-2).join(".");
0<b.indexOf("com.cn")&&(c=b.split(".").slice(-3).join("."));return d+"//"+a.serverHostForSubLevelDomain+"."+c},u=function(a){for(m in f.modules){var b=f.modules[m];if(a==b.modName)return b}},r=function(a){for(var b=[],c=0;c<f.dependencies.length;c++){for(var d=!1,e=0;e<f.dependencies[c].features.length;e++)if(f.dependencies[c].features[e]==a){d=!0;break}if(d)for(d=0;d<f.dependencies[c].depends.length;d++)e=u(f.dependencies[c].depends[d]),b.push(e)}a=[];if(b&&0<b.length){a=[b[0]];for(c=1;c<b.length;c++){d=
!1;for(e=0;e<a.length;e++)if(b[c].stable==a[e].stable||b[c].grey==a[e].grey){d=!0;break}d||a.push(b[c])}a.sort(function(a,b){return a.ratio-b.ratio})}return 0==a.length?null:{modules:a}},v=function(a){var b=k.location.pathname;a||(a="./");if(0<=a.indexOf("././"))throw Error("Illegal path '"+a+"'");if(a.startsWith("./"))return b.substring(0,b.lastIndexOf("/"))+a.substring(a.indexOf("./")+2);if(a.startsWith("../")){var c=a.split("../");a="";var d=0,e;for(e in c)""==c[e]?d+=1:a+=c[e]+"/";b=b.split("/");
e="";for(c=0;c<b.length-d-1;c++)e+=b[c]+"/";return e+a}return a},h=function(){var a={path:"",cache:"false",mode:"stable",refreshLevel:"yyMMddhh"},b,c=k.getElementsByTagName("script"),c=c[c.length-1];if(c=k.currentScript||c){if(b=c.getAttribute("src")){var d=b.split("/");if(b.toLocaleUpperCase().startsWith("HTTP")){b="";for(var e=0;e<d.length;e++)e<d.length-2&&(b+=d[e]+"/");b.substring(0,b.length-1)}}b=c.getAttribute("fileUriPort");e=c.getAttribute("fileUriDomainSubLevel");d=c.getAttribute("path")||
a.path;d.toUpperCase().startsWith("HTTP://")||d.toUpperCase().startsWith("HTTPS://")?a.path=d:(b=q({serverPort:b,serverHostForSubLevelDomain:e}),a.path=b+v(d));a.cache=c.getAttribute("cache")||a.cache;a.mode=c.getAttribute("mode")||a.mode}else console.warn("Not currently running in a formal environment!");console.debug("Using IAM JSSDK settings: ",a);a.cache&&console.debug("IAM JSSDK cache is enabled!");"grey"==a.mode&&console.warn("Using IAM JSSDK [GREY] mode!");return a}();n.LoaderJS=function(a){if(a&&
(f||f==VAR_PLUGIN_MODULES)){var b=f;try{b=JSON.stringify(f)}catch(c){}console.debug("Overlay default modules: "+b);f=a}if(!f)throw Error("Must configure modules dependencies!");console.debug("Plugin modules : "+JSON.stringify(f))};LoaderJS.prototype.use=function(a,b){this.useCss(a,function(){});this.useJs(a,b)};LoaderJS.prototype.useJs=function(a,b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useJs parameters (feature, callback) is required!");var c=h.path+
"/js/",d=h.cache,e=h.mode,f=(new Date).format(h.refreshLevel),l=r(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,e){c.forEach(function(d,f){if(n[d.modName])console.debug("Skip already load script module '"+d.modName+"'"),b();else{var g=k.createElement("script");g.type="text/javascript";g.charset="UTF-8";g.src=(e||"")+d.url;g.async=!1;f==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded scripts feature: "+
a+", readyState: "+this.readyState),b())});k.head.appendChild(g)}})})(l.modules.map(function(a){"true"==d||(new Date).getTime();return{modName:a.modName,url:a[e]+"?t\x3d"+f}}),c)};LoaderJS.prototype.useCss=function(a,b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==b||!b)throw Error("useCss parameters (feature, callback) is required!");var c=h.path+"/css/",d=h.cache,e=h.mode,f=(new Date).format(h.refreshLevel),l=r(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(c,
e){c.forEach(function(d,f){if(n[d.modName])console.debug("Skip already load css module '"+d.modName+"'"),b();else{var g=k.createElement("link");g.rel="stylesheet";g.charset="UTF-8";g.href=(e||"")+d.url;g.async=!1;f==c.length-1&&(g.onload=g.onreadystatechange=function(c){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded links feature: "+a+", readyState: "+this.readyState),b())});k.head.appendChild(g)}})})(l.modules.filter(function(a){return null!=a["css_"+e]&&""!=
a["css_"+e]}).map(function(a){"true"==d||(new Date).getTime();return{modName:a.modName,url:a["css_"+e]+"?t\x3d"+f}}),c)};LoaderJS.isIp=p;LoaderJS.getServerBaseURI=q})(window,document,VAR_PLUGIN_MODULES);
//# sourceMappingURL=sysloader-2.0.1.min.js.map